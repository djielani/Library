<div class="container-fluid">
  <ngb-toast
	*ngIf="show"
	header="Livre ajouter au panier avec succes !"
	[delay]="5000"
	[autohide]=true
	(hide)="show = false; autohide = true" class="position-absolute end-0 bg-success text-white" style="z-index: 1;"
>
<div *ngIf="autohide">Continez à visiter la boutique !</div>
	<div *ngIf="!autohide"></div>
</ngb-toast>

  <div class="container mt-5 mb-5">
    <div class="row d-flex justify-content-center">
      <div class="card bg-light">
        <div class="row">
          <div class="col-md-4">
            <div class="mt-4 pb-4 ms-2">
              <img [src]="book.imageURL" width="250" class="img-fluid rounded">
            </div>
          </div>
          <div class="col-md-4">
            <div class="p-4">
              <div class="d-flex justify-content-between align-items-center">
                <a routerLink="/librairie" class="d-flex align-items-center">
                  <i class="bi bi-arrow-left-circle"></i>
                  <span class="ms-2"> Retour</span>
                </a>
              </div>
              <div class="mt-4 mb-3">
                <span class="text-uppercase text-muted brand">{{book.type}}</span>
                <h5 class="text-uppercase">{{ book.title }}</h5>
                <div class="price d-flex flex-row align-items-center">
                  <div class="ml-2">
                    <p class="dis-price">{{book.prix}}<span>Fr CFA</span></p>
                  </div>
                </div>
              </div>
              <p class="">{{book.description}}</p>
              <div class="cart mt-4 align-items-center">
                <i class="bi bi-share-alt text-muted"></i>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="card m-4 p-4">
              <p class="h5">Prix <span class="text-secondary">(neuf): </span> {{book.prix}} <span
                  class="text-secondary">Fr CFA</span></p>
              <p class="text-secondary">Tous les prix incluent la TVA.</p>
              <ngb-rating [(rate)]="currentRate"></ngb-rating>
              <pre>Rate: <b>{{currentRate}}</b></pre>

              <p class="text-success h4">EN STOCK</p>
              <hr />
              <p id="pet-select">
                Comme alternative, l'ebook Kindle est disponible maintenant et peut être lu sur n'importe quel appareil
                avec l'application Kindle gratuite. Vous préférez l’écouter ? Essayez Audible.
              </p>
              <div class="row">
                <div class="col-5">
                  Quantité :
                </div>
                <div class="col-7">
                  <select name="quantite" class="form-select">
                    <option value="">0</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                  </select>
                </div>
              </div>
              <div class="d-flex m-2">
                <button class="btn btn-outline-secondary me-1" (click)="open(content)">Acheter</button>
                <button class="btn border" style="background-color: #fdd79ab6 !important;" (click)="show = true"><i class="bi bi-cart4"></i>
                  Ajouter au panier</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #content let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Details du Paiement</h4>
    <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
  </div>
  <div class="modal-body">
    <div class="container">
      <div class="p-3">
        <div class="row-12 mt-3">
          <input type="text" name="name" class="form-control" required="required">
          <label>Nom sur la carte</label>
        </div>
        <div class="row mt-3">
          <div class="col-md-6">
              <input type="text" name="name" class="form-control" placeholder="111 222 444 12" required="required">
              <i class="bi bi-credit-card"></i><span>Numéro de la carte</span>
          </div>
          <div class="col-md-6">
            <div class="d-flex col-md-12">
              <div class="row-8 me-2"> <input type="text" name="name" placeholder="12/10/2025" class="form-control" required="required">
                <span>Expiration</span>
              </div>
              <div class="row-2">
                <input type="text" name="name" placeholder="111" class="form-control" required="required">
                <span>CVV</span>
              </div>
            </div>
          </div>

            <div class="mt-2">
              <div class="row mt-3">
                <h6 class="text-uppercase">Adresse de livraison</h6>
                <div class="col-md-6">
                  <div class=" mt-3 me-2"> <input type="text" name="name" placeholder="Dakar" class="form-control"
                      required="required"> <span>Région</span> </div>
                </div>
                <div class="col-md-6">
                  <div class=" mt-3 me-2"> <input type="text" name="name" placeholder="Plateau" class="form-control"
                      required="required"> <span>Quartier</span> </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-outline-success" (click)="modal.close('Save click')">Effectuer le
      paiement</button>
  </div>
</ng-template>